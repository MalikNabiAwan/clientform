<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <title>Spam E-Mail Bewertungsformular</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700;900&display=swap" rel="stylesheet">
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>
  <style>
    body {
      background-color: #ffffff;
      font-family: 'Poppins', sans-serif;
      margin: 0;
      padding: 20px;
      font-size: 18px;
      width: 100%;
      box-sizing: border-box;
      overflow-x: hidden;
    }

    .flight-form {
      max-width: 600px;
      margin: 0 auto;
      transform: scale(1.15);
      transform-origin: top center;
      width: 100%;
      box-sizing: border-box;
    }

    .top-bar {
      margin-bottom: 24px;
    }

    .top-bar-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .top-bar-text {
      color: #1D345D;
      font-weight: 700;
      font-size: 16px;
      line-height: 19px;
      padding: 8px 0;
    }

    .top-bar-icon {
      width: 20px;
      height: 20px;
      padding: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .top-bar-icon svg {
      width: 20px;
      height: 20px;
    }

    .top-bar-icon svg path,
    .top-bar-icon svg polyline {
      stroke: #1D345D;
      stroke-width: 2;
      fill: none;
    }

    .progress-container {
      margin-bottom: 32px;
    }

    .progress-steps {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
      position: relative;
    }

    .progress-step {
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
      z-index: 2;
    }

    .step-circle {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: #e8ecf0;
      border: 2px solid #e8ecf0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      font-weight: 600;
      color: #6b7280;
      transition: all 0.3s ease;
    }

    .step-circle.active {
      background: #1D345D;
      border-color: #1D345D;
      color: white;
    }

    .step-circle.completed {
      background: #1D345D;
      border-color: #1D345D;
      color: white;
    }

    .step-label {
      font-size: 12px;
      color: #6b7280;
      margin-top: 8px;
      text-align: center;
      font-weight: 500;
    }

    .step-label.active {
      color: #1D345D;
      font-weight: 600;
    }

    .progress-line {
      position: absolute;
      top: 16px;
      left: 0;
      right: 0;
      height: 2px;
      background: #e8ecf0;
      z-index: 1;
    }

    .progress-line-fill {
      height: 100%;
      background: #1D345D;
      transition: width 0.6s ease;
      width: 0%;
    }
    
    /* Mobile: Faster progress animation */
    @media (max-width: 768px) {
      .progress-line-fill {
        transition: none;
      }
    }

    .main-heading {
      font-family: 'Poppins', sans-serif;
      font-weight: 700;
      font-size: 24px;
      line-height: 28px;
      color: rgb(0, 0, 0);
      margin-bottom: 24px;
    }

    .subtext {
      font-family: 'Poppins', sans-serif;
      font-weight: 400;
      font-size: 14px;
      line-height: 20px;
      color: rgb(51, 51, 51);
      margin-bottom: 24px;
    }

    .form-group, .radio-group {
      margin-bottom: 24px;
    }

    .radio-group {
      width: 100%;
    }

    .flight-problem-label {
      display: flex;
      align-items: center;
      width: 100%;
      box-sizing: border-box;
      padding: 14px 20px;
      font-size: 14px;
      line-height: 20px;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      background: #fff;
      cursor: pointer;
      transition: border-color 0.2s, box-shadow 0.2s, transform 0.18s cubic-bezier(.4,1.3,.6,1), background 0.2s;
      font-family: 'Poppins', sans-serif;
      font-weight: 400;
      color: rgb(51, 51, 51);
      margin-bottom: 12px;
    }

    .flight-problem-label.selected {
      border: 2px solid #1D345D;
      background: #fff;
      box-shadow: none;
    }

    .flight-problem-label:hover {
      border-color: #1D345D;
      background: #f8f9fb;
      box-shadow: 0 4px 16px 0 rgba(29,52,93,0.10);
      transform: scale(1.025);
      z-index: 2;
    }

    .flight-problem-label:not(:last-child) {
      margin-bottom: 12px;
    }

    .flight-problem-label input[type="radio"] {
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      border: 2px solid #1D345D;
      background-color: #fff;
      position: relative;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-right: 12px;
      flex-shrink: 0;
    }

    .flight-problem-label input[type="radio"]:checked {
      background-color: #1D345D;
      border-color: #1D345D;
    }

    .flight-problem-label input[type="radio"]:checked::after {
      content: '';
      position: absolute;
      top: 2px;
      left: 2px;
      width: 8px;
      height: 8px;
      background-color: white;
      border-radius: 50%;
    }

    .flight-problem-label input[type="radio"]:focus + span,
    .flight-problem-label input[type="radio"]:focus {
      outline: none;
      border-color: #1D345D;
      box-shadow: 0 2px 8px 0 rgba(29,52,93,0.08);
    }

    .option-label {
      font-weight: 700;
      margin-right: 8px;
      color: #1D345D;
      font-size: 14px;
    }

    .option-text {
      flex: 1;
      font-weight: 400;
      font-size: 14px;
    }

    .button-wrapper {
      display: flex;
      justify-content: flex-end;
      gap: 16px;
      margin-top: 32px;
    }

    .next-button, .back-button {
      border: none;
      padding: 10px 20px;
      border-radius: 4px;
      font-size: 14px;
      width: auto;
      min-width: 90px;
      cursor: not-allowed;
      background-color: #ccc;
      color: #888;
      transition: background-color 0.2s ease, color 0.2s ease;
      font-family: 'Poppins', sans-serif;
      font-weight: 600;
    }

    .next-button.active, .back-button.active {
      background-color: #1D345D;
      color: #fff;
      cursor: pointer;
    }

    .next-button.active:hover, .back-button.active:hover {
      background-color: #152a4a;
    }

    .back-button {
      background: none;
      color: #1D345D;
      border: 2px solid #1D345D;
      cursor: pointer;
      transition: background 0.2s, color 0.2s;
    }

    .back-button:disabled {
      color: #ccc;
      border-color: #ccc;
      cursor: not-allowed;
    }

    .back-button.active:hover {
      background: #e8ecf0;
      color: #152a4a;
    }

    .question-container {
      display: none;
      animation: fadeIn 0.5s ease-in-out;
    }

    .question-container.active {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .result-container {
      display: none;
      text-align: center;
      padding: 20px 0;
    }

    .result-container.active {
      display: block;
      animation: fadeIn 0.5s ease-in-out;
    }

    .result-icon {
      font-size: 60px;
      margin-bottom: 20px;
    }

    .result-title {
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 20px;
      color: #000;
    }

    .result-message {
      font-size: 16px;
      line-height: 1.6;
      margin-bottom: 30px;
      color: rgb(51, 51, 51);
    }

    .contact-form {
      background: #f8f9fb;
      padding: 28px;
      border-radius: 16px;
      margin-top: 28px;
      text-align: left;
      border: 2px solid #e8ecf0;
      box-shadow: 0 2px 12px rgba(29, 52, 93, 0.08);
    }

    .contact-form h3 {
      font-family: 'Poppins', sans-serif;
      color: #1D345D;
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 20px;
      text-align: center;
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-bottom: 20px;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: #333;
      font-size: 14px;
    }

    .form-group input,
    .form-group textarea {
      width: 100%;
      padding: 16px 20px;
      border: 2px solid #e0e0e0;
      border-radius: 12px;
      font-size: 15px;
      transition: all 0.3s ease;
      font-family: 'Poppins', sans-serif;
      color: #333;
      box-sizing: border-box;
      background: #f8f9fb;
      font-weight: 400;
    }

    .form-group input:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: #1D345D;
      background: #fff;
      box-shadow: 0 0 0 3px rgba(29, 52, 93, 0.1);
    }

    .form-group input::placeholder,
    .form-group textarea::placeholder {
      color: #888;
      font-size: 14px;
      font-weight: 400;
    }

    .upload-area {
      border: 2px dashed #e0e0e0;
      border-radius: 12px;
      padding: 28px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
      background: #f8f9fb;
    }

    .upload-area:hover {
      border-color: #1D345D;
      background: #fff;
    }

    .upload-area.dragover {
      border-color: #1D345D;
      background-color: #fff;
    }

    .upload-icon {
      margin-bottom: 8px;
    }

    .upload-text {
      font-size: 15px;
      font-weight: 500;
      color: #333;
      margin-bottom: 6px;
    }

    .upload-subtext {
      font-size: 13px;
      color: #666;
    }

    .submit-btn {
      background: #1D345D;
      color: white;
      border: none;
      padding: 16px 32px;
      border-radius: 12px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      width: 100%;
      margin-top: 24px;
      box-shadow: 0 2px 8px rgba(29, 52, 93, 0.2);
    }

    .submit-btn:hover {
      background: #152a4a;
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(29, 52, 93, 0.3);
    }

    .submit-btn:disabled {
      background: #ccc;
      color: #888;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    /* reCAPTCHA Styling */
    .recaptcha-container {
      margin: 24px 0;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
      background: #fff;
      border-radius: 12px;
      border: 2px solid #e0e0e0;
      transition: all 0.3s ease;
    }

    .recaptcha-container:hover {
      border-color: #1D345D;
      box-shadow: 0 2px 8px rgba(29, 52, 93, 0.1);
    }

    .g-recaptcha {
      transform: scale(1);
      transform-origin: center;
    }

    /* File List Styling */
    .file-item {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 6px 8px;
      background: #f8f9fb;
      border: 1px solid #e0e0e0;
      border-radius: 4px;
      margin: 3px 0;
      font-size: 12px;
    }

    .file-icon {
      flex-shrink: 0;
    }

    .file-name {
      flex: 1;
      font-weight: 500;
      color: #333;
      font-size: 12px;
    }

    .file-size {
      color: #666;
      font-size: 11px;
    }

    /* Mobile-Optimized Checkbox Container Styling */
    .checkbox-container {
      margin: 20px 0;
    }

    .checkbox-item {
      display: flex;
      align-items: flex-start;
      margin-bottom: 16px;
      padding: 16px 18px;
      background: #f8f9fb;
      border: 2px solid #e0e0e0;
      border-radius: 12px;
      transition: all 0.3s ease;
    }

    .checkbox-item:hover {
      border-color: #1D345D;
      background: #fff;
      box-shadow: 0 2px 8px rgba(29, 52, 93, 0.08);
    }

    .checkbox-item input[type="checkbox"] {
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      width: 18px;
      height: 18px;
      border: 2px solid #1D345D;
      border-radius: 3px;
      background-color: #fff;
      position: relative;
      cursor: pointer;
      margin-right: 12px;
      margin-top: 2px;
      flex-shrink: 0;
      transition: all 0.3s ease;
      z-index: 1;
    }

    .checkbox-item input[type="checkbox"]:checked {
      background-color: #1D345D;
      border-color: #1D345D;
    }

    .checkbox-item input[type="checkbox"]:checked::after {
      content: '';
      position: absolute;
      left: 50%;
      top: 50%;
      width: 5px;
      height: 8px;
      border: solid white;
      border-width: 0 2px 2px 0;
      transform: translate(-50%, -60%) rotate(45deg);
    }

    .checkbox-item input[type="checkbox"]:focus {
      outline: none;
      box-shadow: 0 0 0 3px rgba(29, 52, 93, 0.1);
    }

    .checkbox-label {
      font-family: 'Poppins', sans-serif;
      font-size: 14px;
      font-weight: 400;
      color: #333;
      line-height: 1.4;
      cursor: pointer;
      flex: 1;
      display: block;
      user-select: none;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
    }

    .checkbox-required {
      color: #d32f2f;
      margin-left: 4px;
    }

    .checkbox-error {
      color: #d32f2f;
      font-size: 12px;
      margin-top: 8px;
      margin-left: 30px;
      display: none;
      font-weight: 500;
    }

    /* Result Container Styling */
    .result-container {
      display: none;
      text-align: center;
      padding: 20px 0;
    }

    .result-container.active {
      display: block;
      animation: fadeIn 0.5s ease-in-out;
    }

    .result-icon {
      font-size: 60px;
      margin-bottom: 20px;
    }

    .result-title {
      font-family: 'Poppins', sans-serif;
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 20px;
      color: #000;
    }

    .result-message {
      font-size: 16px;
      line-height: 1.6;
      margin-bottom: 30px;
      color: rgb(51, 51, 51);
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Mobile Performance Optimizations */
    @media (max-width: 768px) {
      * {
        -webkit-transform: translateZ(0);
        transform: translateZ(0);
        -webkit-backface-visibility: hidden;
        backface-visibility: hidden;
      }
      
      body {
        overflow-x: hidden;
        padding: 20px 16px;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
      
      /* Mobile: reduce animations and effects for all question items */
      .question-container .flight-problem-label {
        transition: border-color 0.15s ease, background 0.15s ease;
        transform: none;
        will-change: auto;
        box-shadow: none;
      }
      
      .question-container .flight-problem-label:hover,
      .question-container .flight-problem-label:active {
        transform: none;
        transition: none;
        box-shadow: none;
        background: #f8f9fb;
      }
      
      /* Optimize radio button rendering */
      .question-container input[type="radio"] {
        transition: background-color 0.15s ease;
        will-change: auto;
      }

      .flight-form {
        max-width: 100%;
        padding: 0 16px;
        transform: none;
        margin: 0 auto;
        width: 100%;
        box-sizing: border-box;
      }

      .result-container {
        padding: 15px 0;
        width: 100%;
        box-sizing: border-box;
      }

      .result-message {
        margin-bottom: 20px;
        padding: 0 5px;
      }
      
      .main-heading {
        font-size: 20px;
        line-height: 24px;
      }
      
      .subtext {
        font-size: 14px;
        line-height: 20px;
      }
      
      .button-wrapper {
        flex-direction: column;
        gap: 10px;
      }
      
      .next-button, .back-button {
        width: 100%;
      }

      .form-row {
        grid-template-columns: 1fr;
        gap: 0;
      }

      .progress-steps {
        margin-bottom: 12px;
        will-change: auto;
      }

      .step-circle {
        width: 28px;
        height: 28px;
        font-size: 12px;
      }

      .step-label {
        font-size: 11px;
        margin-top: 6px;
      }

      .progress-line {
        top: 14px;
      }

      body {
        font-size: 16px;
        padding: 10px;
      }

      .contact-form {
        padding: 16px;
        margin-top: 16px;
        margin-left: 0;
        margin-right: 0;
        width: 100%;
        box-sizing: border-box;
        border-radius: 12px;
        max-width: 100%;
      }

      .contact-form h3 {
        font-size: 20px;
        margin-bottom: 16px;
        text-align: center;
      }

      .form-group {
        margin-bottom: 16px;
      }

      .form-group label {
        font-size: 13px;
        margin-bottom: 6px;
      }

      .form-group input,
      .form-group textarea {
        padding: 12px 16px;
        font-size: 14px;
        border-radius: 8px;
      }

      .upload-area {
        padding: 20px;
      }

      .upload-text {
        font-size: 14px;
      }

      .upload-subtext {
        font-size: 12px;
      }

      .submit-btn {
        padding: 14px 24px;
        font-size: 14px;
        margin-top: 20px;
      }

      .recaptcha-container {
        padding: 15px;
        margin: 20px 0;
      }

      .checkbox-container {
        margin: 16px 0;
      }

      .checkbox-item {
        padding: 14px 16px;
        margin-bottom: 14px;
      }

      .checkbox-label {
        font-size: 13px;
        line-height: 1.3;
      }

      .checkbox-error {
        font-size: 11px;
        margin-left: 26px;
      }

      .checkbox-item input[type="checkbox"]:checked::after {
        width: 4px;
        height: 7px;
        border-width: 0 1.5px 1.5px 0;
      }

      .g-recaptcha {
        transform: scale(0.9);
      }
    }

    @media (max-width: 480px) {
      * {
        transition-duration: 0.2s;
      }
      
      body {
        padding: 16px 12px;
        font-size: 14px;
        margin: 0;
        overflow-x: hidden;
        -webkit-font-smoothing: antialiased;
      }

      .flight-form {
        padding: 0 12px;
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
      }

      .main-heading {
        font-size: 18px;
        margin-bottom: 16px;
      }

      .subtext {
        font-size: 13px;
        margin-bottom: 16px;
      }
      
      .flight-problem-label {
        padding: 8px 16px;
        font-size: 14px;
        transition: none;
        transform: none;
      }
      
      .flight-problem-label:hover {
        transform: none;
        transition: border-color 0.2s ease;
      }
      
      /* First Question Mobile Optimizations */
      #question1 .flight-problem-label {
        transition: none;
        transform: none;
        will-change: auto;
      }
      
      #question1 .flight-problem-label:hover,
      #question1 .flight-problem-label:active {
        transform: none;
        box-shadow: none;
        transition: border-color 0.1s ease;
      }
      
      .question-container {
        animation: none;
      }
      
      .question-container.active {
        animation: mobileFadeIn 0.3s ease-out;
      }
      
      @keyframes mobileFadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }

      .step-label {
        display: none;
      }

      .progress-container {
        margin-bottom: 20px;
      }

      .top-bar-text {
        font-size: 14px;
      }

      .contact-form {
        padding: 12px;
        margin-top: 12px;
        margin-left: 0;
        margin-right: 0;
        border-radius: 8px;
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
      }

      .contact-form h3 {
        font-size: 18px;
        margin-bottom: 12px;
        text-align: center;
      }

      .form-group {
        margin-bottom: 15px;
      }

      .form-group label {
        font-size: 12px;
        margin-bottom: 5px;
      }

      .form-group input,
      .form-group textarea {
        padding: 10px 14px;
        font-size: 14px;
        border-radius: 8px;
      }

      .form-group textarea {
        min-height: 80px;
      }

      .upload-area {
        padding: 15px;
        border-radius: 8px;
      }

      .upload-text {
        font-size: 13px;
        margin-bottom: 4px;
      }

      .upload-subtext {
        font-size: 11px;
      }

      .submit-btn {
        padding: 12px 20px;
        font-size: 14px;
        margin-top: 16px;
        border-radius: 8px;
      }

      .g-recaptcha {
        transform: scale(0.8);
      }

      .recaptcha-container {
        padding: 8px;
        margin: 15px 0;
        border-radius: 8px;
      }

      .result-title {
        font-size: 20px;
      }

      .result-message {
        font-size: 14px;
        line-height: 1.5;
      }

      .checkbox-container {
        margin: 12px 0;
      }

      .checkbox-item {
        padding: 12px 14px;
        margin-bottom: 12px;
        border-radius: 8px;
      }

      .checkbox-label {
        font-size: 12px;
        line-height: 1.2;
      }

      .checkbox-error {
        font-size: 10px;
        margin-left: 24px;
      }

      .checkbox-item input[type="checkbox"]:checked::after {
        width: 4px;
        height: 6px;
        border-width: 0 1.5px 1.5px 0;
      }
    }

    /* Extra small screens */
    @media (max-width: 360px) {
      body {
        padding: 12px 8px;
        margin: 0;
      }

      .flight-form {
        padding: 0 8px;
        width: 100%;
        max-width: 100%;
      }

      .contact-form {
        padding: 10px;
        margin-top: 10px;
        margin-left: 0;
        margin-right: 0;
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
        border-radius: 6px;
      }

      .contact-form h3 {
        font-size: 16px;
        margin-bottom: 10px;
      }

      .form-group input,
      .form-group textarea {
        padding: 8px 12px;
        font-size: 13px;
      }

      .upload-area {
        padding: 12px;
      }

      .submit-btn {
        padding: 10px 16px;
        font-size: 13px;
      }

      .g-recaptcha {
        transform: scale(0.75);
      }

      .recaptcha-container {
        padding: 5px;
        margin: 12px 0;
      }

      .main-heading {
        font-size: 16px;
      }

      .result-title {
        font-size: 18px;
        margin-bottom: 15px;
      }

      .result-message {
        font-size: 13px;
        line-height: 1.4;
        margin-bottom: 15px;
        padding: 0 2px;
      }

      .result-container {
        padding: 10px 0;
        width: 100%;
        box-sizing: border-box;
      }

      .checkbox-container {
        margin: 10px 0;
      }

      .checkbox-item {
        padding: 10px 12px;
        margin-bottom: 10px;
        border-radius: 6px;
      }

      .checkbox-item input[type="checkbox"] {
        width: 16px;
        height: 16px;
      }

      .checkbox-label {
        font-size: 11px;
        line-height: 1.1;
      }

      .checkbox-error {
        font-size: 9px;
        margin-left: 22px;
      }

      .checkbox-item input[type="checkbox"]:checked::after {
        width: 3px;
        height: 5px;
        border-width: 0 1px 1px 0;
        transform: translate(-50%, -55%) rotate(45deg);
      }
    }

    /* Footer Stats Section Styling - Clean & Simple */
    .stats-section {
      display: flex;
      flex-direction: column;
      gap: 24px;
      padding: 40px 20px 20px;
      margin-top: 40px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }

    .stat-item {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      font-size: 16px;
      color: #1D345D;
      padding: 0;
    }

    .stat-icon {
      width: 24px;
      height: 24px;
      color: #1D345D;
      flex-shrink: 0;
      margin-top: 2px;
    }

    .stat-item p {
      text-align: left;
      margin: 0;
      font-family: 'Poppins', sans-serif;
      font-weight: 400;
      line-height: 1.5;
      color: #333;
    }

    /* Responsive design for footer */
    @media (min-width: 768px) {
      .stats-section {
        flex-direction: row;
        justify-content: space-between;
        flex-wrap: wrap;
        gap: 20px;
        padding: 32px 20px 20px;
      }

      .stat-item {
        flex: 1;
        min-width: 250px;
      }
    }

    @media (max-width: 768px) {
      .stats-section {
        padding: 24px 16px 16px;
        margin-top: 24px;
        gap: 20px;
      }

      .stat-item p {
        font-size: 15px;
      }

      .stat-icon {
        width: 22px;
        height: 22px;
      }
    }

    @media (max-width: 480px) {
      .stats-section {
        padding: 20px 12px 12px;
        margin-top: 20px;
        gap: 18px;
      }

      .stat-item {
        gap: 10px;
      }

      .stat-item p {
        font-size: 14px;
        line-height: 1.4;
      }

      .stat-icon {
        width: 20px;
        height: 20px;
      }
    }

    @media (max-width: 360px) {
      .stats-section {
        padding: 16px 8px 8px;
        margin-top: 16px;
        gap: 16px;
      }

      .stat-item {
        gap: 8px;
      }

      .stat-item p {
        font-size: 13px;
        line-height: 1.3;
      }

      .stat-icon {
        width: 18px;
        height: 18px;
      }
    }
  </style>
</head>
<body>
  <div class="flight-form">
    <!-- Top Bar with Progress -->
    <div class="top-bar">
      <div class="top-bar-content">
        <div class="top-bar-text">Überprüfen Sie Ihre Spam-E-Mail kostenlos!</div>
        <div class="top-bar-icon">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z" stroke="#1D345D" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <polyline points="22,6 12,13 2,6" stroke="#1D345D" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
      </div>
      
      <div class="progress-container">
        <div class="progress-steps">
          <div class="progress-line">
            <div class="progress-line-fill" id="progressLineFill"></div>
          </div>
          
          <div class="progress-step">
            <div class="step-circle active" id="step1Circle">1</div>
            <div class="step-label active" id="step1Label">E-Mail-Typ</div>
          </div>
          
          <div class="progress-step">
            <div class="step-circle" id="step2Circle">2</div>
            <div class="step-label" id="step2Label">Verbindung</div>
          </div>
          
          <div class="progress-step">
            <div class="step-circle" id="step3Circle">3</div>
            <div class="step-label" id="step3Label">Status</div>
          </div>
          
          <div class="progress-step">
            <div class="step-circle" id="step4Circle">4</div>
            <div class="step-label" id="step4Label">E-Mail-Alter</div>
          </div>
          
          <div class="progress-step">
            <div class="step-circle" id="step5Circle">5</div>
            <div class="step-label" id="step5Label">Service</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Question 1 -->
    <div class="question-container active" id="question1">
      <h1 class="main-heading">Welche Art von Spam-E-Mail haben Sie erhalten?</h1>
      <p class="subtext">Wählen Sie die Option, die Ihre Spam-E-Mail am besten beschreibt</p>
      
      <div class="radio-group">
        <label class="flight-problem-label" onclick="selectOption(this, '1a')">
          <input type="radio" name="q1" value="1a">
          <span class="option-label"></span>
          <span class="option-text">Werbe-E-Mail mit Signatur von einem deutschen Unternehmensabsender</span>
        </label>
        
        <label class="flight-problem-label" onclick="selectOption(this, '1b')">
          <input type="radio" name="q1" value="1b">
          <span class="option-label"></span>
          <span class="option-text">Werbe-E-Mail mit Signatur von einem ausländischen Unternehmensabsender</span>
        </label>
        
        <label class="flight-problem-label" onclick="selectOption(this, '1c')">
          <input type="radio" name="q1" value="1c">
          <span class="option-label"></span>
          <span class="option-text">Werbe-E-Mail ohne Signatur von einem deutschen Unternehmensabsender</span>
        </label>
        
        <label class="flight-problem-label" onclick="selectOption(this, '1d')">
          <input type="radio" name="q1" value="1d">
          <span class="option-label"></span>
          <span class="option-text">Werbe-E-Mail ohne Signatur von einem ausländischen Unternehmensabsender</span>
        </label>
      </div>
      
      <div class="button-wrapper">
        <button class="next-button" id="continue1" onclick="nextQuestion(2)" disabled>Weiter</button>
      </div>
    </div>

    <!-- Question 2 -->
    <div class="question-container" id="question2">
      <h1 class="main-heading">Sind Sie mit dem Absender verbunden?</h1>
      <p class="subtext">Zum Beispiel durch einen früheren Kauf, Newsletter-Abonnement, etc.</p>
      
      <div class="radio-group">
        <label class="flight-problem-label" onclick="selectOption(this, '2a')">
          <input type="radio" name="q2" value="2a">
          <span class="option-label"></span>
          <span class="option-text">Ja!</span>
        </label>
        
        <label class="flight-problem-label" onclick="selectOption(this, '2b')">
          <input type="radio" name="q2" value="2b">
          <span class="option-label"></span>
          <span class="option-text">Nein!</span>
        </label>
      </div>
      
      <div class="button-wrapper">
        <button class="next-button" id="continue2" onclick="nextQuestion(3)" disabled>Weiter</button>
        <button class="back-button active" onclick="previousQuestion(1)">Zurück</button>
      </div>
    </div>

    <!-- Question 3 -->
    <div class="question-container" id="question3">
      <h1 class="main-heading">Was trifft auf Sie zu?</h1>
      <p class="subtext">Bitte wählen Sie Ihren Status bezüglich der E-Mail</p>
      
      <div class="radio-group">
        <label class="flight-problem-label" onclick="selectOption(this, '3a')">
          <input type="radio" name="q3" value="3a">
          <span class="option-label"></span>
          <span class="option-text">Die Werbe-E-Mail habe ich im Rahmen meiner beruflichen bzw. geschäftlichen Tätigkeit erhalten.</span>
        </label>
        
        <label class="flight-problem-label" onclick="selectOption(this, '3b')">
          <input type="radio" name="q3" value="3b">
          <span class="option-label"></span>
          <span class="option-text">Die Werbe-E-Mail habe ich privat und nicht im Rahmen meiner beruflichen bzw. geschäftlichen Tätigkeit erhalten.</span>
        </label>
      </div>
      
      <div class="button-wrapper">
        <button class="next-button" id="continue3" onclick="nextQuestion(4)" disabled>Weiter</button>
        <button class="back-button active" onclick="previousQuestion(2)">Zurück</button>
      </div>
    </div>

    <!-- Question 4 -->
    <div class="question-container" id="question4">
      <h1 class="main-heading">Wie alt ist die Werbe-E-Mail, die Sie erhalten haben?</h1>
      <p class="subtext">Bitte wählen Sie das Alter der Werbe-E-Mail</p>
      
      <div class="radio-group">
        <label class="flight-problem-label" onclick="selectOption(this, '4a')">
          <input type="radio" name="q4" value="4a">
          <span class="option-label"></span>
          <span class="option-text">Jünger als 6 Monate</span>
        </label>
        
        <label class="flight-problem-label" onclick="selectOption(this, '4b')">
          <input type="radio" name="q4" value="4b">
          <span class="option-label"></span>
          <span class="option-text">Älter als 6 Monate</span>
        </label>
      </div>
      
      <div class="button-wrapper">
        <button class="next-button" id="continue4" onclick="nextQuestion(5)" disabled>Weiter</button>
        <button class="back-button active" onclick="previousQuestion(3)">Zurück</button>
      </div>
    </div>

    <!-- Question 5 -->
    <div class="question-container" id="question5">
      <h1 class="main-heading">Welchen Service würden Sie in Anspruch nehmen wollen?</h1>
      <p class="subtext">Bitte wählen Sie eine Antwort aus. Hinweis: Es entstehen dir hierdruch keine Kosten und es wird noch keine Beauftragung ausgeführt.</p>

      <div class="radio-group">
        <label class="flight-problem-label" onclick="selectOption(this, '5a')">
          <input type="radio" name="q5" value="5a">
          <span class="option-label"></span>
          <span class="option-text">Ich möchte die Werbemail direkt an Rechto für 29€ verkaufen und mein Geld in 48h nach Annahme erhalten.</span>
        </label>

        <label class="flight-problem-label" onclick="selectOption(this, '5b')">
          <input type="radio" name="q5" value="5b">
          <span class="option-label"></span>
          <span class="option-text">Ich möchte den längeren Weg gehen und Schadensersatz bis zu 250€ mit Rechto einfordern lassen.</span>
        </label>

        <label class="flight-problem-label" onclick="selectOption(this, '5c')">
          <input type="radio" name="q5" value="5c">
          <span class="option-label"></span>
          <span class="option-text">Ich weiß es noch nicht. Ich möchte mich dazu von Rechto beraten lassen.</span>
        </label>
      </div>

      <div class="button-wrapper">
        <button class="next-button" id="continue5" onclick="showResult()" disabled>Ergebnisse erhalten</button>
        <button class="back-button active" onclick="previousQuestion(4)">Zurück</button>
      </div>
    </div>

    <!-- Result Container -->
    <div class="result-container" id="resultContainer">
      <div class="result-icon" id="resultIcon">✅</div>
      <h1 class="result-title" id="resultTitle">Bewertung abgeschlossen</h1>
      <p class="result-message" id="resultMessage">Basierend auf Ihren Antworten werden wir Ihre Anfrage entsprechend bearbeiten.</p>
      
      <form class="contact-form" id="contactForm" style="display: none;" onsubmit="submitForm(event)">
        <h3>Kontaktinformationen</h3>
        
        <div class="form-row">
          <div class="form-group">
            <label for="fullName">Vollständiger Name *</label>
            <input type="text" id="fullName" name="Full Name" required>
          </div>
          
          <div class="form-group">
            <label for="email">E-Mail-Adresse *</label>
            <input type="email" id="email" name="Email Address" required>
          </div>
        </div>
        
        <div class="form-row">
          <div class="form-group">
            <label for="phone">Telefonnummer</label>
            <input type="tel" id="phone" name="Phone Number">
          </div>
          
          <div class="form-group">
            <label for="company">Firmenname</label>
            <input type="text" id="company" name="Company Name">
          </div>
        </div>
        
        <div class="form-group">
          <label for="message">Zusätzliche Informationen</label>
          <textarea id="message" name="Additional Information" rows="4" placeholder="Bitte geben Sie weitere Details zur Spam-E-Mail an..."></textarea>
        </div>
        
        <div class="form-group">
          <label>Spam-E-Mail hochladen</label>
          <div class="upload-area" onclick="document.getElementById('fileUpload').click()">
            <div class="upload-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15" stroke="#1D345D" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <polyline points="7,10 12,15 17,10" stroke="#1D345D" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <line x1="12" y1="15" x2="12" y2="3" stroke="#1D345D" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </div>
            <div class="upload-text">Klicken Sie zum Hochladen oder ziehen Sie Dateien hierher</div>
            <div class="upload-subtext">Unterstützte Formate: .eml, .msg, .pdf, .jpg, .png, .txt</div>
            <input type="file" id="fileUpload" name="files" style="display: none;" accept=".eml,.msg,.pdf,.jpg,.png,.txt" multiple>
          </div>
          <div id="fileList" style="margin-top: 12px;"></div>
        </div>
        
        <!-- Hidden fields for assessment data -->
        <input type="hidden" name="Timestamp" id="hiddenTimestamp">
        <input type="hidden" name="Column 6" id="hiddenAssessment">
        
        <!-- Terms and Conditions Checkboxes -->
        <div class="checkbox-container">
          <div class="checkbox-item">
            <input type="checkbox" id="termsCheckbox" name="terms" required>
            <label for="termsCheckbox" class="checkbox-label">
              Hiermit akzeptiere ich die <a href="https://v2.wirkaufendeinemail.de/agb" target="_blank" style="color: #1D345D; text-decoration: underline;">AGB</a> und <a href="https://v2.wirkaufendeinemail.de/datenschutzerklaerung" target="_blank" style="color: #1D345D; text-decoration: underline;">Datenschutzerklärung</a><span class="checkbox-required">*</span>
            </label>
          </div>
          <div class="checkbox-error" id="termsError">Bitte akzeptieren Sie die AGB und Datenschutzerklärung.</div>
          
          <div class="checkbox-item">
            <input type="checkbox" id="spamCheckbox" name="spam">
            <label for="spamCheckbox" class="checkbox-label">
              Ich habe weitere Spam-Mails und benötige einen gesicherten Account für den Sammel-Upload.
            </label>
          </div>
        </div>
        
        <!-- reCAPTCHA -->
        <div class="recaptcha-container">
          <div class="g-recaptcha" data-sitekey="6LcV1KArAAAAAOXS9H0f8DZqiJQQNdz-cc_hVmci" data-callback="onRecaptchaSuccess" data-expired-callback="onRecaptchaExpired"></div>
        </div>
        
        <button type="submit" class="submit-btn" id="submitButton" disabled>Anfrage senden</button>
      </form>
      
      <div class="button-wrapper">
        <button class="back-button active" onclick="goBackToQuestion3()">Zurück</button>
      </div>
    </div>
  </div>

    <script>
        // GLOBAL VARIABLES
        let answers = {};
        let currentQuestion = 1;
        let recaptchaVerified = false;

        // reCAPTCHA CALLBACK FUNCTIONS
        function onRecaptchaSuccess(token) {
            console.log('reCAPTCHA verified successfully');
            recaptchaVerified = true;
            updateSubmitButtonState();
        }

        function onRecaptchaExpired() {
            console.log('reCAPTCHA expired');
            recaptchaVerified = false;
            updateSubmitButtonState();
        }

        function updateSubmitButtonState() {
            const submitButton = document.getElementById('submitButton');
            if (recaptchaVerified) {
                submitButton.disabled = false;
                submitButton.style.cursor = 'pointer';
            } else {
                submitButton.disabled = true;
                submitButton.style.cursor = 'not-allowed';
            }
        }

        // CHECKBOX FUNCTIONS
        function initializeCheckboxes() {
            // Terms checkbox event listener
            const termsCheckbox = document.getElementById('termsCheckbox');
            const termsError = document.getElementById('termsError');
            
            if (termsCheckbox && termsError) {
                termsCheckbox.addEventListener('change', function() {
                    if (this.checked) {
                        termsError.style.display = 'none';
                    }
                });
            }
        }

        function validateCheckboxes() {
            const termsCheckbox = document.getElementById('termsCheckbox');
            const termsError = document.getElementById('termsError');
            
            if (!termsCheckbox.checked) {
                termsError.style.display = 'block';
                return false;
            } else {
                termsError.style.display = 'none';
                return true;
            }
        }

        // Mobile-optimized initialization
        function initializeMobileOptimizations() {
            // Check if mobile device
            const isMobile = window.innerWidth <= 768;
            
            if (isMobile) {
                // Preload first question elements
                const question1 = document.getElementById('question1');
                if (question1) {
                    // Force hardware acceleration on first question
                    question1.style.transform = 'translateZ(0)';
                    question1.style.willChange = 'auto';
                    
                    // Optimize radio buttons for touch
                    const radioLabels = question1.querySelectorAll('.flight-problem-label');
                    radioLabels.forEach(label => {
                        label.style.touchAction = 'manipulation';
                        label.style.userSelect = 'none';
                    });
                }
                
                // Reduce console logging on mobile for performance
                console.log = function() {};
            }
        }

        // Initialize everything when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            initializeCheckboxes();
            initializeMobileOptimizations();
        });

        // OPTIMIZED SELECTION FUNCTION
        function selectOption(element, value) {
            // Avoid style writes on mobile to reduce layout thrash
            if (currentQuestion === 1) {
                element.style.borderColor = '#1D345D';
                element.style.background = '#fff';
            }
            
            // Clear all selections in current container (no RAF for immediate apply)
            const container = element.closest('.question-container');
            const allLabels = container.querySelectorAll('.flight-problem-label');
            allLabels.forEach(label => {
                label.classList.remove('selected');
                const radio = label.querySelector('input[type="radio"]');
                if (radio) radio.checked = false;
            });
            
            // Select this option
            element.classList.add('selected');
            const radio = element.querySelector('input[type="radio"]');
            if (radio) radio.checked = true;
            
            // Store answer
            if (currentQuestion === 1) {
                answers.q1 = value;
                window.q1Answer = value; // Backup
            } else if (currentQuestion === 2) {
                answers.q2 = value;
                window.q2Answer = value; // Backup
            } else if (currentQuestion === 3) {
                answers.q3 = value;
                window.q3Answer = value; // Backup
            } else if (currentQuestion === 4) {
                answers.q4 = value;
                window.q4Answer = value; // Backup
            } else if (currentQuestion === 5) {
                answers.q5 = value;
                window.q5Answer = value; // Backup
            }
            
            // Enable button
            const button = container.querySelector('.next-button');
            if (button) {
                button.classList.add('active');
                button.disabled = false;
            }
        }

        // NAVIGATION FUNCTIONS
        function nextQuestion(questionNum) {
            document.getElementById('question' + currentQuestion).classList.remove('active');
            document.getElementById('question' + questionNum).classList.add('active');
            currentQuestion = questionNum;
            updateProgress();
        }

        function previousQuestion(questionNum) {
            document.getElementById('question' + currentQuestion).classList.remove('active');
            document.getElementById('question' + questionNum).classList.add('active');
            currentQuestion = questionNum;
            updateProgress();
        }

        function updateProgress() {
            const totalSteps = 5;
            const progress = ((currentQuestion - 1) / (totalSteps - 1)) * 100;
            document.getElementById('progressLineFill').style.width = progress + '%';
            
            for (let i = 1; i <= totalSteps; i++) {
                const circle = document.getElementById('step' + i + 'Circle');
                const label = document.getElementById('step' + i + 'Label');
                
                if (i < currentQuestion) {
                    circle.classList.remove('active');
                    circle.classList.add('completed');
                    circle.innerHTML = '✓';
                    if (label) label.classList.remove('active');
                } else if (i === currentQuestion) {
                    circle.classList.add('active');
                    circle.classList.remove('completed');
                    circle.innerHTML = i;
                    if (label) label.classList.add('active');
                } else {
                    circle.classList.remove('active', 'completed');
                    circle.innerHTML = i;
                    if (label) label.classList.remove('active');
                }
            }
        }

        // COMPLETELY BULLETPROOF RESULT LOGIC
        function showResult() {
            console.log('=== CALCULATING FINAL RESULT ===');
            
            // Hide question, show result
            document.getElementById('question' + currentQuestion).classList.remove('active');
            document.getElementById('resultContainer').classList.add('active');
            
            // Complete progress
            document.getElementById('progressLineFill').style.width = '100%';
            for (let i = 1; i <= 5; i++) {
                const circle = document.getElementById('step' + i + 'Circle');
                if (!circle) continue;
                circle.classList.remove('active');
                circle.classList.add('completed');
                circle.innerHTML = '✓';
                const labelEl = document.getElementById('step' + i + 'Label');
                if (labelEl) labelEl.classList.remove('active');
            }
            
            // Get answers with multiple fallback methods
            let q1 = answers.q1 || window.q1Answer || 'MISSING';
            let q2 = answers.q2 || window.q2Answer || 'MISSING';
            let q3 = answers.q3 || window.q3Answer || 'MISSING';
            let q4 = answers.q4 || window.q4Answer || 'MISSING';
            
            console.log('=== FINAL ANSWER RETRIEVAL ===');
            console.log('Q1 from answers.q1:', answers.q1);
            console.log('Q1 from window.q1Answer:', window.q1Answer);
            console.log('Q1 FINAL:', q1);
            console.log('Q2 from answers.q2:', answers.q2);
            console.log('Q2 from window.q2Answer:', window.q2Answer);
            console.log('Q2 FINAL:', q2);
            console.log('Q3 from answers.q3:', answers.q3);
            console.log('Q3 from window.q3Answer:', window.q3Answer);
            console.log('Q3 FINAL:', q3);
            console.log('Q4 from answers.q4:', answers.q4);
            console.log('Q4 from window.q4Answer:', window.q4Answer);
            console.log('Q4 FINAL:', q4);
            
            // Get result elements
            const icon = document.getElementById('resultIcon');
            const title = document.getElementById('resultTitle');
            const message = document.getElementById('resultMessage');
            const form = document.getElementById('contactForm');
            
            console.log('=== LOGIC TESTING ===');
            console.log('Test 1: q1 === "1a"?', q1 === '1a');
            console.log('Test 2: q2 === "2b"?', q2 === '2b');
            console.log('Test 3: q3 === "3a"?', q3 === '3a');
            console.log('Test 4: q4 === "4a"?', q4 === '4a');
            console.log('SUCCESS CASE (1a+2b+3a+4a)?', (q1 === '1a' && q2 === '2b' && q3 === '3a' && q4 === '4a'));
            console.log('Test 5: q1 === "1c"?', q1 === '1c');
            console.log('REVIEW CASE (1c+2b+3a+4a)?', (q1 === '1c' && q2 === '2b' && q3 === '3a' && q4 === '4a'));
            
            // EXACT LOGIC AS SPECIFIED - Now includes email age requirement
            if (q1 === '1a' && q2 === '2b' && q3 === '3a' && q4 === '4a') {
                console.log('🎉 FINAL DECISION: SUCCESS CASE (1a+2b+3a+4a)');
                icon.textContent = '✅';
                title.textContent = 'Anforderungen erfüllt';
                message.textContent = 'Die Werbe-E-Mail entspricht den rechtlichen Voraussetzungen für einen Ankauf. Bitte füllen Sie das Formular vollständig aus, damit wir Ihnen alle Informationen zum weiteren Ablauf unverbindlich zukommen lassen können.';
                form.style.display = 'block';
                
            } else if (q1 === '1c' && q2 === '2b' && q3 === '3a' && q4 === '4a') {
                console.log('⚠️ FINAL DECISION: REVIEW CASE (1c+2b+3a+4a)');
                icon.textContent = '⚠️';
                title.textContent = 'Überprüfung erforderlich';
                message.textContent = 'Die Werbe-E-Mail könnte die Anforderungen erfüllen, muss aber zuerst von uns überprüft werden.';
                form.style.display = 'block';
                
            } else {
                console.log('❌ FINAL DECISION: REQUIREMENTS NOT MET');
                console.log('Combination was: Q1=' + q1 + ' Q2=' + q2 + ' Q3=' + q3 + ' Q4=' + q4);
                icon.textContent = '❌';
                title.textContent = 'Anforderungen nicht erfüllt';
                message.textContent = 'Es tut uns leid, aber die Werbe-E-Mail erfüllt nicht die Anforderungen nach § 7 (2) Nr. 2 des deutschen Gesetzes gegen den unlauteren Wettbewerb (UWG).';
                form.style.display = 'none';
            }
            
            console.log('=== RESULT DISPLAY COMPLETE ===');
        }

        function submitForm(event) {
            // Prevent default form submission
            if (event) {
                event.preventDefault();
            }
            console.log('=== FORM SUBMISSION STARTED ===');
            
            // Check reCAPTCHA verification first
            if (!recaptchaVerified) {
                alert('Bitte bestätigen Sie, dass Sie kein Roboter sind, indem Sie das reCAPTCHA ausfüllen.');
                return;
            }
            
            // Checkbox validation
            if (!validateCheckboxes()) {
                return;
            }
            
            // Collect contact information
            const fullName = document.getElementById('fullName').value.trim();
            const email = document.getElementById('email').value.trim();
            const phone = document.getElementById('phone').value.trim();
            const company = document.getElementById('company').value.trim();
            const message = document.getElementById('message').value.trim();
            
            // Validate required fields
            if (!fullName || !email) {
                alert('Bitte füllen Sie alle Pflichtfelder aus (Vollständiger Name und E-Mail-Adresse).');
                return;
            }
            
            // Email validation
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                alert('Bitte geben Sie eine gültige E-Mail-Adresse ein.');
                return;
            }
            
            // Get assessment results
            const q1 = answers.q1 || window.q1Answer || 'NOT_ANSWERED';
            const q2 = answers.q2 || window.q2Answer || 'NOT_ANSWERED';  
            const q3 = answers.q3 || window.q3Answer || 'NOT_ANSWERED';
            const q4 = answers.q4 || window.q4Answer || 'NOT_ANSWERED';
            
            // Get uploaded files
            const fileInput = document.getElementById('fileUpload');
            const uploadedFiles = [];
            
            if (fileInput.files.length > 0) {
                for (let i = 0; i < fileInput.files.length; i++) {
                    const file = fileInput.files[i];
                    uploadedFiles.push({
                        name: file.name,
                        size: file.size,
                        type: file.type,
                        lastModified: file.lastModified
                    });
                }
            }
            
            // Determine case type based on assessment
            let caseType = 'REQUIREMENTS_NOT_MET';
            if (q1 === '1a' && q2 === '2b' && q3 === '3a' && q4 === '4a') {
                caseType = 'CEASE_AND_DESIST';
            } else if (q1 === '1c' && q2 === '2b' && q3 === '3a' && q4 === '4a') {
                caseType = 'REVIEW_REQUIRED';
            }
            
            // Create complete submission data
            const submissionData = {
                timestamp: new Date().toISOString(),
                caseType: caseType,
                assessment: {
                    question1: q1,
                    question2: q2,
                    question3: q3,
                    question4: q4,
                    answers: answers
                },
                contactInfo: {
                    fullName: fullName,
                    email: email,
                    phone: phone || 'Not provided',
                    company: company || 'Not provided',
                    message: message || 'No additional information provided'
                },
                files: {
                    count: uploadedFiles.length,
                    details: uploadedFiles
                }
            };
            
            // Log complete submission data
            console.log('=== COMPLETE SUBMISSION DATA ===');
            console.log('Case Type:', caseType);
            console.log('Assessment Results:', submissionData.assessment);
            console.log('Contact Information:', submissionData.contactInfo);
            console.log('Files Uploaded:', submissionData.files);
            console.log('Full Submission Object:', submissionData);
            
            // Send data to Google Sheets
            const googleSheetsUrl = 'https://script.google.com/macros/s/AKfycbz3jUkzreXjdpZrB9IwDvM_1Apvz9ik4nAjvqsvZS0R_T6dOsl9lS1RcUgZ2U841clo2w/exec';
            
            // Get the form element and create FormData from it
            const form = document.getElementById('contactForm');
            
            // Populate hidden fields with assessment data
            document.getElementById('hiddenTimestamp').value = submissionData.timestamp;
            document.getElementById('hiddenAssessment').value = `Case: ${submissionData.caseType} | Q1: ${submissionData.assessment.question1} | Q2: ${submissionData.assessment.question2} | Q3: ${submissionData.assessment.question3} | Q4: ${submissionData.assessment.question4} | Files: ${submissionData.files.count}`;
            
            // Get reCAPTCHA token
            const recaptchaResponse = grecaptcha.getResponse();
            
            // Create FormData that matches your Google Apps Script
            const formData = new FormData();
            formData.append("Full Name", fullName);
            formData.append("Email Address", email);
            formData.append("Phone Number", phone || "");
            formData.append("Company Name", company || "");
            formData.append("Additional Information", message || "");
            formData.append("Uploaded File Link", `Case: ${caseType} | Q1: ${submissionData.assessment.question1} | Q2: ${submissionData.assessment.question2} | Q3: ${submissionData.assessment.question3} | Q4: ${submissionData.assessment.question4} | Files: ${uploadedFiles.length}`);
            formData.append("g-recaptcha-response", recaptchaResponse);
            
            // Show loading state
            const submitButton = document.querySelector('.submit-btn');
            const originalButtonText = submitButton.textContent;
            submitButton.textContent = 'Wird gesendet...';
            submitButton.disabled = true;
            
            // Log what we're sending for debugging
            console.log('=== SENDING TO GOOGLE SHEETS ===');
            console.log('URL:', googleSheetsUrl);
            console.log('FormData contents:');
            for (let [key, value] of formData.entries()) {
                console.log(`${key}: ${value}`);
            }
            
            // Send data to Google Sheets using POST method with FormData
            console.log('Sending FormData to Google Sheets...');
            
            fetch(googleSheetsUrl, {
                method: 'POST',
                mode: 'no-cors',
                body: formData
            })
            .then(response => {
                console.log('Response status:', response.status);
                console.log('Response type:', response.type);
                console.log('Full response:', response);
                
                // For no-cors mode, we can't read the response text
                if (response.type === 'opaque') {
                    console.log('Request sent successfully (opaque response due to no-cors mode)');
                    
                    // Reset button
                    submitButton.textContent = originalButtonText;
                    submitButton.disabled = false;
                    
                    // Show success message
                    let summaryMessage = `Vielen Dank, ${fullName}!\n\n`;
                    summaryMessage += `Ihre Spam-E-Mail-Bewertung wurde erfolgreich übermittelt.\n\n`;
                    summaryMessage += `Falltyp: ${caseType.replace(/_/g, ' ')}\n`;
                    summaryMessage += `Hochgeladene Dateien: ${uploadedFiles.length}\n\n`;
                    summaryMessage += `Wir werden Sie unter ${email} innerhalb von 24 Stunden kontaktieren, um mit Ihrem Fall fortzufahren.`;
                    
                    alert(summaryMessage);
                    
                    // Reset reCAPTCHA
                    grecaptcha.reset();
                    recaptchaVerified = false;
                    updateSubmitButtonState();
                    
                    console.log('=== FORM SUBMISSION COMPLETED SUCCESSFULLY ===');
                    return;
                }
                
                return response.text();
            })
            .then(result => {
                if (result) {
                    console.log('Google Sheets Response:', result);
                    
                    // Reset button
                    submitButton.textContent = originalButtonText;
                    submitButton.disabled = false;
                    
                    // Show success message
                    let summaryMessage = `Vielen Dank, ${fullName}!\n\n`;
                    summaryMessage += `Ihre Spam-E-Mail-Bewertung wurde erfolgreich übermittelt.\n\n`;
                    summaryMessage += `Falltyp: ${caseType.replace(/_/g, ' ')}\n`;
                    summaryMessage += `Hochgeladene Dateien: ${uploadedFiles.length}\n\n`;
                    summaryMessage += `Wir werden Sie unter ${email} innerhalb von 24 Stunden kontaktieren, um mit Ihrem Fall fortzufahren.`;
                    
                    alert(summaryMessage);
                    
                    // Reset reCAPTCHA
                    grecaptcha.reset();
                    recaptchaVerified = false;
                    updateSubmitButtonState();
                    
                    console.log('=== FORM SUBMISSION COMPLETED SUCCESSFULLY ===');
                }
            })
            .catch(error => {
                console.error('=== DETAILED ERROR INFORMATION ===');
                console.error('Error type:', error.name);
                console.error('Error message:', error.message);
                console.error('Full error:', error);
                console.error('Stack trace:', error.stack);
                
                // Reset button
                submitButton.textContent = originalButtonText;
                submitButton.disabled = false;
                
                // Show error message but still show the summary
                alert('Es gab ein Problem beim Senden Ihres Formulars, aber Ihre Informationen wurden lokal gespeichert. Bitte versuchen Sie es erneut oder kontaktieren Sie uns direkt.');
                
                // Still show success message as fallback
                let summaryMessage = `Vielen Dank, ${fullName}!\n\n`;
                summaryMessage += `Ihre Spam-E-Mail-Bewertung wurde aufgezeichnet.\n\n`;
                summaryMessage += `Falltyp: ${caseType.replace(/_/g, ' ')}\n`;
                summaryMessage += `Hochgeladene Dateien: ${uploadedFiles.length}\n\n`;
                summaryMessage += `Bitte kontaktieren Sie uns direkt, falls Sie nicht innerhalb von 24 Stunden eine Antwort erhalten.`;
                
                console.log('=== FORM SUBMISSION COMPLETED WITH ERROR ===');
                console.log('Submission data was:', submissionData);
            });
        }

        function goBackToQuestion3() {
            document.getElementById('resultContainer').classList.remove('active');
            document.getElementById('question4').classList.add('active');
            currentQuestion = 4;
            updateProgress();
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log('=== PAGE INITIALIZED ===');
            updateProgress();
            
            // Ensure file upload functionality is ready
            const fileInput = document.getElementById('fileUpload');
            const uploadArea = document.querySelector('.upload-area');
            
            if (fileInput && uploadArea) {
                console.log('File upload functionality ready');
            } else {
                console.warn('File upload elements not found');
            }
            
            // Initialize submit button state
            updateSubmitButtonState();
        });

        // File upload handling
        document.getElementById('fileUpload').addEventListener('change', function(e) {
            const fileList = document.getElementById('fileList');
            fileList.innerHTML = '';
            
            for (let file of e.target.files) {
                const fileItem = document.createElement('div');
                fileItem.className = 'file-item';
                fileItem.innerHTML = `
                    <span class="file-icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="#1D345D" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <polyline points="14,2 14,8 20,8" stroke="#1D345D" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </span>
                    <span class="file-name">${file.name}</span>
                    <span class="file-size">${(file.size / 1024).toFixed(1)} KB</span>
                `;
                fileList.appendChild(fileItem);
            }
        });

        // Drag and drop functionality
        const uploadArea = document.querySelector('.upload-area');
        
        uploadArea.addEventListener('dragover', function(e) {
            e.preventDefault();
            this.classList.add('dragover');
        });
        
        uploadArea.addEventListener('dragleave', function(e) {
            e.preventDefault();
            this.classList.remove('dragover');
        });
        
        uploadArea.addEventListener('drop', function(e) {
            e.preventDefault();
            this.classList.remove('dragover');
            
            const files = e.dataTransfer.files;
            document.getElementById('fileUpload').files = files;
            
            // Trigger change event
            const event = new Event('change', { bubbles: true });
            document.getElementById('fileUpload').dispatchEvent(event);
        });
    </script>

    <!-- Footer Stats Section -->
    <div class="stats-section">
      <div class="stat-item">
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="none" color="#1D345D" class="stat-icon" viewBox="0 0 24 24">
          <path fill="currentColor" d="M12 1.75a10.25 10.25 0 1 1 0 20.5 10.25 10.25 0 0 1 0-20.5ZM12 0a12 12 0 1 0 0 24A12 12 0 0 0 12 0Zm-1.5 7.75a1.5 1.5 0 1 1 3 0v3a1.5 1.5 0 1 1-3 0v-3Zm0 7.5h3v2h-3v-2Z"/>
        </svg>
        <p>Überprüfen Sie schnell & einfach ob wir Ihre Spam-Mail ankaufen!</p>
      </div>
      <div class="stat-item">
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="none" color="#1D345D" class="stat-icon" viewBox="0 0 39 40">
          <path stroke="currentColor" stroke-linejoin="round" stroke-width="1.6" d="m19.152 6.4 1.6 3.2h3.2l-2.592 1.984.992 3.616-3.2-2.4-3.2 2.4 1.28-3.616-2.88-1.984h3.2z"/>
          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6" d="M8.208 17.6C.208 17.6.816 7.008.816 4.8H4.88m25.28 12.8c8 0 7.44-10.592 7.44-12.8h-4.096"/>
          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6" d="M33.616 1.6h-28.8c0 24.688 12.736 17.68 12.736 26.4-.096 5.6-2.72 7.2-7.136 7.2v3.2h17.6v-3.2c-4.416 0-7.264-1.6-7.264-7.2 0-8.72 12.864-1.808 12.864-26.4"/>
        </svg>
        <p>Wir setzen Ihr Recht durch und fordern zur Unterlassung auf!</p>
      </div>
      <div class="stat-item">
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="stat-icon" viewBox="0 0 16 16">
          <path d="M5.338 1.59a61 61 0 0 0-2.837.856.48.48 0 0 0-.328.39c-.554 4.157.726 7.19 2.253 9.188a10.7 10.7 0 0 0 2.287 2.233c.346.244.652.42.893.533q.18.085.293.118a1 1 0 0 0 .101.025 1 1 0 0 0 .1-.025q.114-.034.294-.118c.24-.113.547-.29.893-.533a10.7 10.7 0 0 0 2.287-2.233c1.527-1.997 2.807-5.031 2.253-9.188a.48.48 0 0 0-.328-.39c-.651-.213-1.75-.56-2.837-.855C9.552 1.29 8.531 1.067 8 1.067c-.53 0-1.552.223-2.662.524zM5.072.56C6.157.265 7.31 0 8 0s1.843.265 2.928.56c1.11.3 2.229.655 2.887.87a1.54 1.54 0 0 1 1.044 1.262c.596 4.477-.787 7.795-2.465 9.99a11.8 11.8 0 0 1-2.517 2.453 7 7 0 0 1-1.048.625c-.28.132-.581.24-.829.24s-.548-.108-.829-.24a7 7 0 0 1-1.048-.625 11.8 11.8 0 0 1-2.517-2.453C1.928 10.487.545 7.169 1.141 2.692A1.54 1.54 0 0 1 2.185 1.43 63 63 0 0 1 5.072.56"/>
          <path d="M10.854 5.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 7.793l2.646-2.647a.5.5 0 0 1 .708 0"/>
        </svg>
        <p>Risikolos: Sie erhalten sofort Geld für jede Spam-Mail!</p>
      </div>
      <div class="stat-item">
        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="stat-icon" viewBox="0 0 24 24">
          <path d="M12 17.27L15.15 19.78c.76.46 1.69-.22 1.49-1.08l-1.1-4.72 3.67-3.18c.67-.58.31-1.68-.57-1.75l-4.83-.41-1.89-4.46c-.34-.81-1.5-.81-1.84 0L9.19 8.63l-4.83.41c-.88.07-1.24 1.17-.57 1.75l3.67 3.18-1.1 4.72c-.2.86.73 1.54 1.49 1.08L12 17.27z"/>
          <path d="M12 17.27L15.15 19.78c.76.46 1.69-.22 1.49-1.08l-1.1-4.72 3.67-3.18c.67-.58.31-1.68-.57-1.75l-4.83-.41-1.89-4.46c-.34-.81-1.5-.81-1.84 0L9.19 8.63l-4.83.41c-.88.07-1.24 1.17-.57 1.75l3.67 3.18-1.1 4.72c-.2.86.73 1.54 1.49 1.08L12 17.27z"/>
        </svg>
        <p>Wir setzen uns für Sie ein - Sie erhalten keinen Spam mehr!</p>
      </div>
    </div>
</body>
</html>




